<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="b616d85a-e23f-4914-bbdd-b6a36523349c" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="Orgnisation" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="b616d85a-e23f-4914-bbdd-b6a36523349cfileName">Orgnisation</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="restrequest" name="REST Request" id="3803b6da-6398-41de-9b02-aeb415536d3d" disabled="true">
    <con:settings/>
    <con:config service="Te Rito APIs" resourcePath="/organisation" methodName="createOrganisations" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="REST Request" id="e168a5dd-ffde-489e-b257-50d4644c6a36" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://northern.edsby.co.nz/sif</con:endpoint>
        <con:request>{\r
  "Organisations" : {\r
    "Organisation" : [ {\r
      "OrganisationRefId" : "922",\r
      "OrganisationLocalId" : "42342",\r
      "Name" : "Hogwart's Area School",\r
      "Authority" : "STATE",\r
      "SectorRole" : "35003",\r
      "Type" : "10030",\r
      "OperationalStatus" : "O",\r
      "EntityOpen" : "1652-04-01T00:00:00+1200",\r
      "EducationRegion" : "12013",\r
      "SpecialEducationDistrict" : "182011",\r
      "Address" : {\r
        "Physical" : {\r
          "Type" : "RU",\r
          "Line1" : "1175 Lake Ferry Rd",\r
          "Suburb" : "RD 1",\r
          "City" : "Martinborough"\r
        }\r
      },\r
      "CommunicationChannel" : {\r
        "Website" : {\r
          "Notes" : "Main school website",\r
          "Value" : "http://www.hogwarts.school.nz"\r
        }\r
      },\r
      "ContactList" : {\r
        "Contact" : [ {\r
          "Name" : {\r
            "FamilyName" : "Dumbledore",\r
            "GivenName" : "Albus",\r
            "FullName" : "Albus Dumbledore"\r
          },\r
          "PositionTitle" : "Headmaster",\r
          "Role" : "PRI",\r
          "Address" : {\r
            "Physical" : {\r
              "Type" : "TH",\r
              "Line1" : "533 Hogwart's Way",\r
              "City" : "Hogsmead",\r
              "PostalCode" : "7733"\r
            }\r
          },\r
          "Email" : { },\r
          "Phone" : { }\r
        }, {\r
          "Name" : {\r
            "FamilyName" : "Hagrid",\r
            "GivenName" : "Rubeus",\r
            "FullName" : "Rubeus Hagrid"\r
          },\r
          "PositionTitle" : "Gamekeeper",\r
          "Role" : "DIR",\r
          "Address" : {\r
            "Physical" : {\r
              "Type" : "TH",\r
              "Line1" : "The Enchanted Wood",\r
              "Line2" : "533 Hogwart's Way",\r
              "City" : "Hogsmead",\r
              "PostalCode" : "7733"\r
            }\r
          },\r
          "Email" : { },\r
          "Phone" : { }\r
        } ]\r
      },\r
      "Email" : {\r
        "Main" : {\r
          "Address" : "admin@hogwarts.school.nz"\r
        }\r
      },\r
      "LocationList" : {\r
        "Location" : [ {\r
          "Description" : "Only Campus",\r
          "Address" : {\r
            "Type" : "RU",\r
            "Line1" : "1175 Lake Ferry Rd",\r
            "Suburb" : "RD 1",\r
            "City" : "Martinborough",\r
            "PostalCode" : "5781"\r
          },\r
          "GridLocation" : {\r
            "Latitude" : -41.2814719,\r
            "Longitude" : 175.3458472\r
          },\r
          "StatisticalAreaList" : {\r
            "StatisticalArea" : [ {\r
              "SpatialUnitType" : "GE",\r
              "Code" : "058"\r
            }, {\r
              "SpatialUnitType" : "TA",\r
              "Code" : "050"\r
            }, {\r
              "SpatialUnitType" : "WA",\r
              "Code" : "05003"\r
            } ]\r
          }\r
        } ]\r
      },\r
      "Phone" : {\r
        "Main" : {\r
          "Notes" : "School Secretary DDI",\r
          "Number" : "(04) 300 9993"\r
        }\r
      },\r
      "SchoolService" : {\r
        "CoEdStatus" : "COED",\r
        "Decile" : 5,\r
        "NewEntrantPolicyList" : {\r
          "EnactedPolicy" : [ {\r
            "EffectiveTo" : "2018-12-31T00:00:00+1200",\r
            "Policy" : "AE"\r
          }, {\r
            "EffectiveFrom" : "2019-01-01T00:00:00+1200",\r
            "Policy" : "CE"\r
          } ]\r
        },\r
        "SchoolYearList" : {\r
          "SchoolYear" : [ {\r
            "YearLevel" : 1,\r
            "FIRSTSchoolYearGenderId" : 1001,\r
            "Gender" : "C"\r
          }, {\r
            "YearLevel" : 2,\r
            "FIRSTSchoolYearGenderId" : 1002,\r
            "Gender" : "C"\r
          }, {\r
            "YearLevel" : 3,\r
            "FIRSTSchoolYearGenderId" : 1003,\r
            "Gender" : "C"\r
          }, {\r
            "YearLevel" : 4,\r
            "FIRSTSchoolYearGenderId" : 1004,\r
            "Gender" : "C"\r
          }, {\r
            "YearLevel" : 5,\r
            "FIRSTSchoolYearGenderId" : 1005,\r
            "Gender" : "C"\r
          }, {\r
            "YearLevel" : 6,\r
            "FIRSTSchoolYearGenderId" : 1006,\r
            "Gender" : "C"\r
          }, {\r
            "YearLevel" : 7,\r
            "FIRSTSchoolYearGenderId" : 1007,\r
            "Gender" : "C"\r
          }, {\r
            "YearLevel" : 8,\r
            "FIRSTSchoolYearGenderId" : 1008,\r
            "Gender" : "C"\r
          }, {\r
            "YearLevel" : 9,\r
            "FIRSTSchoolYearGenderId" : 1009,\r
            "Gender" : "F"\r
          }, {\r
            "YearLevel" : 10,\r
            "FIRSTSchoolYearGenderId" : 1010,\r
            "Gender" : "F"\r
          }, {\r
            "YearLevel" : 11,\r
            "FIRSTSchoolYearGenderId" : 1011,\r
            "Gender" : "F"\r
          }, {\r
            "YearLevel" : 12,\r
            "FIRSTSchoolYearGenderId" : 1012,\r
            "Gender" : "F"\r
          }, {\r
            "YearLevel" : 13,\r
            "FIRSTSchoolYearGenderId" : 1013,\r
            "Gender" : "F"\r
          } ]\r
        }\r
      }\r
    } ]\r
  }\r
}</con:request>
        <con:assertion type="Valid HTTP Status Codes" id="d27f6319-56a3-45eb-b7fe-6343bf121002" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters/>
        <con:environmentSpec>
          <con:entry environmentId="02e1b66e-5963-4de7-b043-dcb6acc71d67">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="REST Request 2" id="6160f25f-42cf-4d21-aff3-d5dbc72a0b94">
    <con:settings/>
    <con:config service="Te Rito APIs" resourcePath="/organisation" methodName="getOrganisations" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="REST Request 2" id="b1227a02-7024-45a9-8075-2218b999e875" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://northern.edsby.co.nz/sif</con:endpoint>
        <con:request/>
        <con:originalUri>http://mocksifapi.terito.education.govt.nz/sif/organisation</con:originalUri>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Accept" value="${#[Release 2#Setup#Properties]#Accept}"/>
          <con:entry key="X-Edsby-APIClientId" value="${#[Release 2#Setup#Properties]#X-Edsby-ApiClientId}"/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="02e1b66e-5963-4de7-b043-dcb6acc71d67">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="REST Request 3" id="8b426903-9b81-4817-9639-8f9c8aca2ad0">
    <con:settings/>
    <con:config service="Te Rito APIs" resourcePath="/organisation/{organisationRefId}" methodName="getOrganisation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="REST Request 3" id="ba92a07d-2237-4616-bceb-1e0a13574908" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://northern.edsby.co.nz/sif</con:endpoint>
        <con:request/>
        <con:originalUri>http://mocksifapi.terito.education.govt.nz/sif/organisation/8009</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="0de51a01-b80d-4f86-93dd-bad9889a7626" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>404</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Match" id="da9dce8c-212d-4a2b-9a2e-92757f41b33a" name="Match content of [data]">
          <con:configuration>
            <path>$['errorstr']</path>
            <content>*The requested Organisation does not exist in database - organisationRefId:*</content>
            <allowWildcards>true</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Accept" value="${#[Release 2#Setup#Properties]#Accept}"/>
          <con:entry key="organisationRefId" value="8009"/>
          <con:entry key="X-Edsby-APIClientId" value="${#[Release 2#Setup#Properties]#X-Edsby-ApiClientId}"/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="02e1b66e-5963-4de7-b043-dcb6acc71d67">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="DataSource" id="b2d54706-4c0d-4019-816e-1ebf621be51a">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="Data Generator">
        <con:configuration>
          <generatedDataCount>1</generatedDataCount>
          <generatorsTotalNumber>1</generatorsTotalNumber>
          <lastSelectedProperty>0</lastSelectedProperty>
          <GeneratorType0>INT</GeneratorType0>
          <PropertyName0>OrgRefId</PropertyName0>
          <repetitionCountOrgRefId>0</repetitionCountOrgRefId>
          <repeatValuesOrgRefId>false</repeatValuesOrgRefId>
          <IntegerDataGeneratorMinValueOrgRefId>1001</IntegerDataGeneratorMinValueOrgRefId>
          <IntegerDataGeneratorMaxValueOrgRefId>1999</IntegerDataGeneratorMaxValueOrgRefId>
          <IntegerDataGeneratorStepValueOrgRefId>1</IntegerDataGeneratorStepValueOrgRefId>
          <IntegerDataGeneratorConsequentValuesOrgRefId>true</IntegerDataGeneratorConsequentValuesOrgRefId>
          <escapeSpaceSequence/>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>OrgRefId</con:property>
      <con:restartOnRun>true</con:restartOnRun>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="Run TestCase" id="9f74ddb5-3548-4ae9-a36e-61ed49514e34">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:properties/>
      <con:returnProperties/>
      <con:runMode>PARALLELL</con:runMode>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
</con:testCase>
