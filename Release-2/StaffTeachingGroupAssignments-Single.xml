<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="5ce20e3d-079c-46d2-b79a-8bfc489c0919" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="StaffTeachingGroupAssignments-Single" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="5ce20e3d-079c-46d2-b79a-8bfc489c0919fileName">StaffTeachingGroupAssignments-Single</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="properties" name="Properties 1" id="9c4effba-8e11-45aa-92b3-af92aadc8e28">
    <con:settings/>
    <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:properties>
        <con:property>
          <con:name>StaffPersonalLocalId</con:name>
        </con:property>
        <con:property>
          <con:name>StaffTeachingGroupAssignmentRefId</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>StaffTeachingGroupAssignmentLocalId</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="GenDynamicId" id="41a78d6f-a217-43ea-9d38-13b7d285a3d9">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="Data Generator">
        <con:configuration>
          <generatedDataCount>1</generatedDataCount>
          <generatorsTotalNumber>1</generatorsTotalNumber>
          <lastSelectedProperty>0</lastSelectedProperty>
          <GeneratorType0>STR</GeneratorType0>
          <PropertyName0>DynamicId</PropertyName0>
          <repetitionCountDynamicId>0</repetitionCountDynamicId>
          <repeatValuesDynamicId>false</repeatValuesDynamicId>
          <PasswordDataGeneratorUseSpacesDynamicId>false</PasswordDataGeneratorUseSpacesDynamicId>
          <PasswordDataGeneratorUsePunctuationMarksDynamicId>false</PasswordDataGeneratorUsePunctuationMarksDynamicId>
          <PasswordDataGeneratorUseLettersDynamicId>true</PasswordDataGeneratorUseLettersDynamicId>
          <PasswordDataGeneratorUseDigitsDynamicId>false</PasswordDataGeneratorUseDigitsDynamicId>
          <PasswordDataGeneratorMaxCharacterCountDynamicId>8</PasswordDataGeneratorMaxCharacterCountDynamicId>
          <PasswordDataGeneratorMinCharacterCountDynamicId>8</PasswordDataGeneratorMinCharacterCountDynamicId>
          <escapeSpaceSequence/>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>DynamicId</con:property>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:restartOnRun>true</con:restartOnRun>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="GenStaffPersonalLocalId" id="d75eb82e-13a2-47ef-b61b-14f358f01d28">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="Data Generator">
        <con:configuration>
          <generatedDataCount>1</generatedDataCount>
          <generatorsTotalNumber>1</generatorsTotalNumber>
          <lastSelectedProperty>0</lastSelectedProperty>
          <GeneratorType0>CUSTOM</GeneratorType0>
          <PropertyName0>StaffPersonalLocalId</PropertyName0>
          <repetitionCountStaffPersonalLocalId>0</repetitionCountStaffPersonalLocalId>
          <repeatValuesStaffPersonalLocalId>false</repeatValuesStaffPersonalLocalId>
          <CustomStringDataGeneratorFormatStaffPersonalLocalId>2021_SP_%STR(8,8,False,True,False,False)</CustomStringDataGeneratorFormatStaffPersonalLocalId>
          <escapeSpaceSequence/>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>StaffPersonalLocalId</con:property>
      <con:restartOnRun>true</con:restartOnRun>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="GenStaffTeachingGroupAssignmentLocalId" id="01ac0f2d-b226-4106-95cd-b6aeedf3db5b">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="Data Generator">
        <con:configuration>
          <generatedDataCount>1</generatedDataCount>
          <generatorsTotalNumber>1</generatorsTotalNumber>
          <lastSelectedProperty>0</lastSelectedProperty>
          <GeneratorType0>CUSTOM</GeneratorType0>
          <PropertyName0>StaffTeachingGroupAssignmentLocalId</PropertyName0>
          <repetitionCountStaffTeachingGroupAssignmentLocalId>0</repetitionCountStaffTeachingGroupAssignmentLocalId>
          <repeatValuesStaffTeachingGroupAssignmentLocalId>false</repeatValuesStaffTeachingGroupAssignmentLocalId>
          <CustomStringDataGeneratorFormatStaffTeachingGroupAssignmentLocalId>2021_STGA_%STR(5,10,False,True,False,False)</CustomStringDataGeneratorFormatStaffTeachingGroupAssignmentLocalId>
          <escapeSpaceSequence/>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>StaffTeachingGroupAssignmentLocalId</con:property>
      <con:restartOnRun>true</con:restartOnRun>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="CreateStaff" id="99de0a8d-2314-4f0e-a1d9-4025961ccf7f">
    <con:settings/>
    <con:config service="Te Rito APIs" resourcePath="/staffpersonal" methodName="createStaffPersonals" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="CreateStaff" id="8ad11654-9dc8-4653-8756-767b6028da86" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://northern.edsby.co.nz/sif</con:endpoint>
        <con:request>{\r
  "StaffPersonals" : {\r
    "StaffPersonal" : [ {\r
      "StaffPersonalLocalId" : "${GenStaffPersonalLocalId#StaffPersonalLocalId}",\r
      "PersonInfo" : {\r
        "Name" : {\r
          "FamilyName" : "Smith",\r
          "GivenName" : "Fred",\r
          "FullName" : "Fred Smith",\r
          "IsVerified" : "N"\r
        },\r
        "Demographics" : {\r
          "BirthDate" : "1966-05-01T00:00:00+1200"\r
        },\r
        "Email" : {\r
          "Personal" : {\r
            "Address" : "freddy@mailinator.com",\r
            "SourceOrganisation" : {\r
              "RefId" : "${#[Release 2#Setup#Properties]#OrgRefId}"\r
            }\r
          }\r
        }\r
      },\r
      "StaffAssignment" : {\r
        "StaffAssignmentLocalId" : "2020_SA_${GenDynamicId#DynamicId}",\r
        "StaffRole" : "1002",\r
        "StartDate" : "2020-01-03T00:00:00+1200"\r
      }\r
    } ]\r
  }\r
}</con:request>
        <con:originalUri>http://mocksifapi.terito.education.govt.nz/sif/staffpersonal</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="5bc3ed45-33eb-4c4e-b12f-f24975612234" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Accept" value="${#[Release 2#Setup#Properties]#Accept}"/>
          <con:entry key="X-Edsby-APIClientId" value="${#[Release 2#Setup#Properties]#X-Edsby-ApiClientId}"/>
          <con:entry key="X-Edsby-OrganisationRefId" value="${#[Release 2#Setup#Properties]#OrgRefId}"/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="02e1b66e-5963-4de7-b043-dcb6acc71d67">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="PropertyTransfer 1" id="d263f829-6933-4f9d-8a6b-6ea175a8db7f">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true">
        <con:name>StaffPersonalRefId</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>CreateStaff</con:sourceStep>
        <con:sourcePath>$['StaffPersonals']['StaffPersonal'][0]['StaffPersonalRefId']</con:sourcePath>
        <con:targetStep>Properties 1</con:targetStep>
        <con:type>JSONPATH</con:type>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true">
        <con:name>StaffPersonalLocalId</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>CreateStaff</con:sourceStep>
        <con:sourcePath>$['StaffPersonals']['StaffPersonal'][0]['StaffPersonalLocalId']</con:sourcePath>
        <con:targetStep>Properties 1</con:targetStep>
        <con:type>JSONPATH</con:type>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Create" id="2fce7fe7-bd14-4180-80a8-b753dda5dc5b">
    <con:settings/>
    <con:config service="Te Rito APIs" resourcePath="/staffteachinggroupassignment" methodName="createStaffTeachingGroupAssignments" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="Create" id="ef10aa3a-4447-4bc6-9954-3ade00085b10" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://northern.edsby.co.nz/sif</con:endpoint>
        <con:request>{\r
  "StaffTeachingGroupAssignments" : {\r
    "StaffTeachingGroupAssignment" : [ {\r
      "StaffTeachingGroupAssignmentLocalId" : "${GenStaffTeachingGroupAssignmentLocalId#StaffTeachingGroupAssignmentLocalId}",\r
      "Status" : "A",\r
      "StaffMember" : {\r
        "LocalId" : "${Properties 1#StaffPersonalLocalId}"\r
      },\r
      "Organisation" : {\r
        "RefId" : "${#[Release 2#Setup#Properties]#OrgRefId}"\r
      },\r
      "TeachingGroup" : {\r
        "LocalId" : "${#[Release 2#TeachingGroup-Single#Properties 1]#TeachingGroupLocalId}"\r
      },\r
      "Role" : "1401",\r
      "StartDate" : "2020-01-27T00:00:00+1200"
    } ]\r
  }\r
}</con:request>
        <con:originalUri>http://mocksifapi.terito.education.govt.nz/sif/staffteachinggroupassignment</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="e06ac86c-ff6d-4a38-bb4f-e7a8c8bd3406" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Accept" value="${#[Release 2#Setup#Properties]#Accept}"/>
          <con:entry key="X-Edsby-APIClientId" value="${#[Release 2#Setup#Properties]#X-Edsby-ApiClientId}"/>
          <con:entry key="X-Edsby-OrganisationRefId" value="${#[Release 2#Setup#Properties]#OrgRefId}"/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="02e1b66e-5963-4de7-b043-dcb6acc71d67">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>d75eb82e-13a2-47ef-b61b-14f358f01d28</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>99de0a8d-2314-4f0e-a1d9-4025961ccf7f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>01ac0f2d-b226-4106-95cd-b6aeedf3db5b</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
</con:testCase>
